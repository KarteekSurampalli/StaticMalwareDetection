# StaticMalwareDetection

In this project, I am looking to identify static malware in access logs leveraging several cloud services

I have collected a list of malicious IPs and URLs from various websites and stored them on a Postgres Database hosted on GCP(Google Cloud Platform) VM instance(in 2 tables)

I have installed Apache Kafka on AWS(Amazon Web Services) ec2 instance and created a kafka topic.
A python code is written to generate a random access log in Apache format with arguments specifying number of log lines to be generated and sleep time between each line generation. Also, using kafka package this code pushes the randomly generated log to Kafka topic created earlier.

Now, on GCP DataProc cluster a scala code is written using Apache Spark Streaming to read the stream data from Kafka topic and identify on real time if the stream log data has malicious IPs or URLs stored in Postgres Database tables created earlier.
If yes, That particular log record will be written to a seperate table on Postgres DB indicating malicious IP/URL found in the log record.
![Static Malware Analysis - Diagram](https://user-images.githubusercontent.com/91021127/206730029-47242447-b841-40a8-9d03-7c41804d6530.jpeg)
